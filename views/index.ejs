<%- include("partials/header.ejs") %>


    <% if ( locals.books.length > 0 ) { %>

        <div class="container my-5">

            <% for ( let i = 0; i < locals.books.length; i++ ) { %>

                <div class="row my-5 bookDetails border shadow-lg rounded d-flex flex-column">

                    <div class="d-flex py-2 my-2 item">

                        <% if (books[i].coperta != null) { %>

                        <img src=<%= books[i].coperta %> alt="bookCover" class="bookCover">

                        <% } else { %>

                            <img src="images/blackCover.jpeg" alt="bookCover" class="bookCover">

                        <% } %>

                        <div class="info col-sm-12 col-md-4 d-flex flex-column  px-2 flex-grow-1">

                            <h2><%= books[i].title %></h2>
                            <h3><%= books[i].autor %></h3>
                            <p><%= books[i].descriere %></p>

                        </div>

                    </div>

                    <div class="d-flex flex-column align-items-start">

                        <form action="/edit" class="my-1 actionForm" method="get">
                            <input type="hidden" name="id" value=<%= books[i].id %>>
                            <input type="submit" class="btn btn-secondary" value="Edit">
                        </form>

                        <form action="/delete" class="my-1 mb-2 actionForm" method="post">
                            <input type="hidden" name="id" value=<%= books[i].id %>>
                            <input type="submit" class="btn btn-danger" value="Delete">
                        </form>

                    </div>

                </div>

            <% } %>

        </div>

    <% } %>


    <form action="/addBook" method="post" class="container d-flex shadow-lg flex-column justify-content-end align-items-center my-5 py-4 rounded border">

        <h2 class="addBook">Adauga o carte citita</h2>

        <div class="form-floating mb-3 w-100">
            <input type="text" class="form-control" name="titlu" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Titlu</label>
        </div>

        <div class="form-floating mb-3 w-100">
            <input type="text" class="form-control" name="autor" id="floatingPassword" placeholder="Password">
            <label for="floatingPassword">Autor</label>
        </div>

        <div class="form-floating w-100">
            <textarea class="form-control" placeholder="Adauga o descriere" name="descriere" id="floatingTextarea"></textarea>
            <label for="floatingTextarea">Descriere</label>
          </div>

        <input type="submit" class="rounded py-2 btn-add mt-3" value="Adauga carte">
    
    </form>



<%- include("partials/footer.ejs") %>